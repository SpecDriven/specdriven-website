---
// Footer component with company info and legal links
---

<footer class="bg-gradient-to-br from-charcoal to-gray-900 text-white relative overflow-hidden">
  <!-- Background geometric pattern -->
  <div class="absolute inset-0 pattern-dots opacity-10"></div>

  <div class="max-w-7xl mx-auto container-padding relative">
    <!-- Main Footer Content -->
    <div class="py-12 lg:py-16">
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Company Info -->
        <div class="lg:col-span-2">
          <div class="flex items-center space-x-3 mb-4">
            <div class="w-10 h-10 bg-gradient-primary rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2L2 7V10C2 16 6 20.5 12 22C18 20.5 22 16 22 10V7L12 2Z"/>
              </svg>
            </div>
            <span class="text-xl font-heading font-bold">Spec-Driven Consulting</span>
          </div>
          <p class="text-gray-200 mb-6 max-w-md text-balance">
            Transform your development process with spec-driven methodologies and AI-powered code generation. Align teams, accelerate delivery, and ship with confidence.
          </p>

          <!-- Contact Info -->
          <div class="space-y-2 text-sm text-gray-200">
            <div class="flex items-center space-x-2">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z"/>
              </svg>
              <a href="mailto:leads@specdriven.app" class="hover:text-indigo-300 transition-colors">
                leads@specdriven.app
              </a>
            </div>
            <div class="flex items-center space-x-2">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22 22 17.52 22 12 17.52 2 12 2M12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20M12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z"/>
              </svg>
              <span>Response time: Within 24 hours</span>
            </div>
          </div>
        </div>

        <!-- Services -->
        <div>
          <h3 class="font-heading font-semibold text-lg mb-4">Services</h3>
          <ul class="space-y-2 text-sm text-gray-200">
            <li><a href="#services" class="hover:text-indigo-300 transition-colors">Assessment & Strategy</a></li>
            <li><a href="#services" class="hover:text-indigo-300 transition-colors">BDD Implementation</a></li>
            <li><a href="#services" class="hover:text-indigo-300 transition-colors">AI Code Generation</a></li>
            <li><a href="#services" class="hover:text-indigo-300 transition-colors">Tool Integration</a></li>
            <li><a href="#services" class="hover:text-indigo-300 transition-colors">Team Training</a></li>
            <li><a href="#services" class="hover:text-indigo-300 transition-colors">Quality Assurance</a></li>
            <li><a href="#services" class="hover:text-indigo-300 transition-colors">Scaling & Optimization</a></li>
          </ul>
        </div>

        <!-- Resources -->
        <div>
          <h3 class="font-heading font-semibold text-lg mb-4">Resources</h3>
          <ul class="space-y-2 text-sm text-gray-200">
            <li><a href="#how-it-works" class="hover:text-indigo-300 transition-colors">How It Works</a></li>
            <li><a href="#for-your-team" class="hover:text-indigo-300 transition-colors">For Your Team</a></li>
            <li><a href="#our-approach" class="hover:text-indigo-300 transition-colors">Our Approach</a></li>
            <li>
              <button
                class="hover:text-indigo-300 transition-colors text-left"
                data-calendly-source="footer"
              >
                Schedule Assessment
              </button>
            </li>
            <li><a href="#contact" class="hover:text-indigo-300 transition-colors">Contact Us</a></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- CTA Section -->
    <div class="border-t border-gray-700 py-8">
      <div class="text-center">
        <h3 class="text-xl font-heading font-bold mb-2">Ready to Transform Your Development Process?</h3>
        <p class="text-gray-200 mb-4 text-balance">
          Get started with a free 30-minute assessment call.
        </p>
        <button
          class="btn-primary shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200"
          data-calendly-source="footer-cta"
        >
          Schedule Your Assessment
        </button>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="border-t border-gray-700 py-6">
      <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
        <!-- Copyright -->
        <div class="text-sm text-gray-300">
          Â© 2024 Spec-Driven Consulting. All rights reserved.
        </div>

        <!-- Legal Links -->
        <div class="flex space-x-6 text-sm text-gray-300">
          <a href="/privacy" class="hover:text-indigo-300 transition-colors">Privacy Policy</a>
          <a href="/terms" class="hover:text-indigo-300 transition-colors">Terms of Service</a>
          <a href="/cookies" class="hover:text-indigo-300 transition-colors">Cookie Policy</a>
        </div>

        <!-- Social Links (if needed in future) -->
        <div class="flex space-x-4">
          <!-- LinkedIn -->
          <a
            href="https://linkedin.com/company/spec-driven"
            target="_blank"
            rel="noopener noreferrer"
            class="text-gray-300 hover:text-indigo-200 transition-colors"
            aria-label="Follow us on LinkedIn"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20.447 20.452H16.893V14.883C16.893 13.555 16.866 11.846 15.041 11.846C13.188 11.846 12.905 13.291 12.905 14.785V20.452H9.351V9H12.765V10.561H12.811C13.288 9.661 14.448 8.711 16.181 8.711C19.782 8.711 20.447 11.081 20.447 14.166V20.452ZM5.337 7.433C4.193 7.433 3.274 6.507 3.274 5.368C3.274 4.23 4.194 3.305 5.337 3.305C6.477 3.305 7.401 4.23 7.401 5.368C7.401 6.507 6.476 7.433 5.337 7.433ZM7.119 20.452H3.555V9H7.119V20.452ZM22.225 0H1.771C0.792 0 0 0.774 0 1.729V22.271C0 23.227 0.792 24 1.771 24H22.222C23.2 24 24 23.227 24 22.271V1.729C24 0.774 23.2 0 22.222 0H22.225Z"/>
            </svg>
          </a>

          <!-- GitHub -->
          <a
            href="https://github.com/spec-driven"
            target="_blank"
            rel="noopener noreferrer"
            class="text-gray-300 hover:text-indigo-200 transition-colors"
            aria-label="Follow us on GitHub"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 0C5.374 0 0 5.373 0 12C0 17.302 3.438 21.8 8.207 23.387C8.806 23.498 9 23.126 9 22.81V20.576C5.662 21.302 4.967 19.16 4.967 19.16C4.421 17.773 3.634 17.404 3.634 17.404C2.545 16.659 3.717 16.675 3.717 16.675C4.922 16.759 5.556 17.912 5.556 17.912C6.626 19.746 8.363 19.216 9.048 18.909C9.155 18.134 9.466 17.604 9.81 17.305C7.145 17 4.343 15.971 4.343 11.374C4.343 10.063 4.812 8.993 5.579 8.153C5.455 7.85 5.044 6.629 5.696 4.977C5.696 4.977 6.704 4.655 8.997 6.207C9.954 5.941 10.98 5.808 12 5.803C13.02 5.808 14.047 5.941 15.006 6.207C17.297 4.655 18.303 4.977 18.303 4.977C18.956 6.63 18.545 7.851 18.421 8.153C19.191 8.993 19.656 10.064 19.656 11.374C19.656 15.983 16.849 16.998 14.177 17.295C14.607 17.667 15 18.397 15 19.517V22.81C15 23.129 15.192 23.504 15.801 23.386C20.566 21.797 24 17.3 24 12C24 5.373 18.627 0 12 0Z"/>
            </svg>
          </a>
        </div>
      </div>
    </div>

    <!-- Legal Disclaimer -->
    <div class="border-t border-gray-700 py-4">
      <div class="text-xs text-gray-500 text-center max-w-4xl mx-auto">
        <p class="mb-2">
          Professional consulting services for enterprise software organizations. Results may vary based on existing processes, team dynamics, and implementation commitment.
        </p>
        <p>
          This website uses localStorage for attribution tracking and does not set cookies. Contact forms are processed securely via Web3Forms.
        </p>
      </div>
    </div>
  </div>
</footer>

<script>
  import { handleCalendlyClick, preloadCalendlyScript } from '../lib/calendly';

  // Handle footer CTA clicks
  const footerCtaButtons = document.querySelectorAll('[data-calendly-source^="footer"]');
  footerCtaButtons.forEach(button => {
    const source = button.getAttribute('data-calendly-source') || 'footer';

    // Preload script on hover/focus
    button.addEventListener('mouseenter', preloadCalendlyScript);
    button.addEventListener('focus', preloadCalendlyScript);

    // Handle click
    button.addEventListener('click', (e) => {
      e.preventDefault();
      handleCalendlyClick(source);
    });
  });

  // Smooth scroll for footer anchor links
  document.querySelectorAll('footer a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href') as string);
      if (target) {
        const headerHeight = 64; // Account for sticky header
        const targetPosition = target.offsetTop - headerHeight;

        window.scrollTo({
          top: targetPosition,
          behavior: 'smooth'
        });
      }
    });
  });

  // Add current year to copyright
  const currentYear = new Date().getFullYear();
  const copyrightText = document.querySelector('footer .text-gray-400');
  if (copyrightText && copyrightText.textContent) {
    copyrightText.textContent = copyrightText.textContent.replace('2024', currentYear.toString());
  }
</script>